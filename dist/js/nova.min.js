"use strict";

(function e(t, n, r) {
  function s(o, u) {
    if (!n[o]) {
      if (!t[o]) {
        var a = typeof require == "function" && require;if (!u && a) return a(o, !0);if (i) return i(o, !0);var f = new Error("Cannot find module '" + o + "'");throw f.code = "MODULE_NOT_FOUND", f;
      }var l = n[o] = { exports: {} };t[o][0].call(l.exports, function (e) {
        var n = t[o][1][e];return s(n ? n : e);
      }, l, l.exports, e, t, n, r);
    }return n[o].exports;
  }var i = typeof require == "function" && require;for (var o = 0; o < r.length; o++) {
    s(r[o]);
  }return s;
})({ 1: [function (require, module, exports) {
    /*global module*/
    module.exports = function App() {
      'use strict';

      var self = this;

      // Dependencies
      var loadCSS = require('loadCSS'),
          onloadCSS = require('onloadCSS'),
          loadJS = require('loadJS');

      /*
        External methods
      ----------------------------------- */

      self.init = function () {
        // Other modules
        if (document.querySelectorAll('.carousel').length) {
          new (require('partials/slick'))();
        }
        if (document.querySelectorAll('.feed').length) {
          new (require('partials/equalheights'))();
        }
        new (require('partials/bindevents'))();
      };

      self.init();

      // Return instance
      return self;
    };
  }, { "loadCSS": "loadCSS", "loadJS": "loadJS", "onloadCSS": "onloadCSS", "partials/bindevents": 3, "partials/equalheights": 4, "partials/slick": 5 }], 2: [function (require, module, exports) {
    /*
    	Start app
    ------------------------------- */

    new (require('modules/app'))();
  }, { "modules/app": 1 }], 3: [function (require, module, exports) {
    /*global module*/
    /*
      Bind Events
    ------------------------------- */

    module.exports = function () {
      'use strict';

      var $ = require('jQuery'),
          $this = void 0,
          feedContent = '.feed__article__content',
          detailContent = '.feed__article__details__content',
          activeDetailClass = 'feed__article__details__content--active',
          activeButtonClass = 'buttons__button--active',
          $el = {
        feed: {
          articleButtonsTrigger: $('.feed__article__content__social .buttons__button'),
          detail: $('.feed__article__details__content'),
          socialDetail: $('.feed__article__details__content--social'),
          tagsDetail: $('.feed__article__details__content--tags')
        },
        globalNav: {
          headerTrigger: $('.header__nav-controls__control .icon')
        }
      };

      $el.globalNav.headerTrigger.on('click', function (evt) {
        $this = $(evt.target).parent();
        if ($this.hasClass('header__nav-controls__control--search')) {
          if ($this.hasClass('header__nav-controls__control--active')) {
            console.log('test');
            $this.removeClass('header__nav-controls__control--active');
            $('.header__modals__modal--search').removeClass('header__modals__modal--active');
          } else {
            $el.globalNav.headerTrigger.removeClass('header__nav-controls__control--active');
            $this.addClass('header__nav-controls__control--active');
            $('.header__modals__modal').removeClass('header__modals__modal--active');
            $('.header__modals__modal--search').addClass('header__modals__modal--active');
          }
        } else if ($this.hasClass('header__nav-controls__control--nav')) {
          if ($this.hasClass('header__nav-controls__control--active')) {
            $this.removeClass('header__nav-controls__control--active');
            $('.header__modals__modal--nav').removeClass('header__modals__modal--active');
          } else {
            $el.globalNav.headerTrigger.removeClass('header__nav-controls__control--active');
            $this.addClass('header__nav-controls__control--active');
            $('.header__modals__modal').removeClass('header__modals__modal--active');
            $('.header__modals__modal--nav').addClass('header__modals__modal--active');
          }
        }
      });

      $el.feed.articleButtonsTrigger.on('click', function (evt) {
        $this = $(evt.target);
        if ($this.hasClass('buttons__button--social')) {
          if ($this.hasClass(activeButtonClass)) {
            $this.removeClass(activeButtonClass);
            $this.closest(feedContent).prev().find('.feed__article__details__content--social').removeClass(activeDetailClass);
          } else {
            $el.feed.articleButtonsTrigger.removeClass(activeButtonClass);
            $this.addClass(activeButtonClass);
            $(detailContent).removeClass(activeDetailClass);
            $this.closest(feedContent).prev().find('.feed__article__details__content--social').addClass(activeDetailClass);
          }
        } else if ($this.hasClass('buttons__button--tags')) {
          if ($this.hasClass(activeButtonClass)) {
            $this.removeClass(activeButtonClass);
            $this.closest(feedContent).prev().find('.feed__article__details__content--tags').removeClass(activeDetailClass);
          } else {
            $el.feed.articleButtonsTrigger.removeClass(activeButtonClass);
            $this.addClass(activeButtonClass);
            $(detailContent).removeClass(activeDetailClass);
            $this.closest(feedContent).prev().find('.feed__article__details__content--tags').addClass(activeDetailClass);
          }
        }
      });
    };
  }, { "jQuery": "jQuery" }], 4: [function (require, module, exports) {
    /*global module*/
    /*
      Equalize the article feed's heights
    ------------------------------- */

    module.exports = function () {
      'use strict';

      // function sameHeights(el) {
      //   var selector = el || '[data-key="sameHeights"]',
      //     query = document.querySelectorAll(selector),
      //     elements = query.length,
      //     max = 0,
      //     element;
      //   if ((query) && (elements > 0)) {
      //     while (elements--) {
      //       element = query[elements];
      //       if (element.clientHeight > max) {
      //         max = element.clientHeight;
      //       }
      //     }

      //     elements = query.length;
      //     while (elements--) {
      //       element = query[elements];
      //       element.style.height = max + 'px';
      //     }
      //   }
      // }

      // if ('addEventListener' in window) {
      //   window.addEventListener('resize', function() {
      //     sameHeights();
      //   });

      //   window.addEventListener('load', function() {
      //     sameHeights();
      //   });
      // }

      function heightsEqualizer(el) {
        var selector = el || '[data-key="sameHeights"]',
            elements = document.querySelectorAll(selector),
            maxHeight = 0,
            len = 0,
            i;

        if (elements && elements.length > 0) {
          len = elements.length;

          for (i = 0; i < len; i++) {
            // get max height
            elements[i].style.height = ''; // reset height attr
            if (elements[i].clientHeight > maxHeight) {
              maxHeight = elements[i].clientHeight;
            }
          }

          for (i = 0; i < len; i++) {
            // set max height to all elements
            elements[i].style.height = maxHeight + 'px';
          }
        }
      }

      if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', function () {
          heightsEqualizer();
        });

        window.addEventListener('resize', function () {
          heightsEqualizer();
        });
      }

      setTimeout(function () {
        // set 1 second timeout for having all fonts loaded
        heightsEqualizer();
      }, 1000);
    };
  }, {}], 5: [function (require, module, exports) {
    /*global module*/
    /*
    	Slick Carousel
    ------------------------------- */

    module.exports = function () {
      'use strict';

      var $ = require('jQuery'),
          slickCarousel = require('slickCarousel');

      $('.carousel').each(function (el) {
        $(this).slick({
          slide: '.carousel__item',
          slidesToShow: 4,
          adaptiveHeight: true
        });
      });
    };
  }, { "jQuery": "jQuery", "slickCarousel": "slickCarousel" }] }, {}, [2]);
//# sourceMappingURL=nova.min.js.map
